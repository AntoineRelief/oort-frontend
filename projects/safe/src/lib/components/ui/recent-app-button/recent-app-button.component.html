<div class="container">
  <div class="top-bar">
    <div class="users">
      <div class="users-wrapper">
        <mat-icon>person</mat-icon>
        <div class="users-count"> <div [innerText]="numberFormatter(app.usersCount)"></div> </div>
      </div>
    </div>
<!--    <div class="status" [ngStyle]="{'background-color': status=='active'? 'background: rgba(149, 221, 101, 0.2);' : status=='pending'? 'background: rgba(244, 174, 82, 0.2);' : status=='archived'? 'red' : 'white'}">-->
    <div class="status" [ngStyle]="{'background-color': this.badge.backgroundColor}">
<!--      <div [innerText]="status?.slice(0, 1)?.toUpperCase()" [ngStyle]="{'color': this.badge.color}"> </div>-->
      <div [innerText]="this.badge.letter" [ngStyle]="{'color': this.badge.color}"> </div>
    </div>
  </div>
  <div class="app-name" [innerText]="app.name? app.name : '?'" (click)="appClick($event)"> </div>
  <div class="bottom-bar">
    <div>
      <div> <div [innerText]="app.createdAt"> </div> </div>
      <!-- if we put matt-icon, it will be the more similar to figma  -->
      <!-- else if we put the safe button there will be a little margin on the bottom and the right (because of the button itself  -->
      <!-- I decided to use safe button -->
      <safe-button [isIcon]="true" icon="more_vert" [matMenuTriggerFor]="menu"></safe-button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="onPreviewEvent.emit(app)">
          <mat-icon>preview</mat-icon>
          Preview
        </button>
        <safe-access [menuItem]="true" [access]="app.permissions" (save)="saveAccessEvent.emit({event: $event, app: app})"
                     *ngIf="app.canUpdate"></safe-access>
        <button mat-menu-item (click)="onDuplicateEvent.emit(app)" *ngIf="app.canDelete">
          <mat-icon>file_copy</mat-icon>
          Duplicate
        </button>
        <ng-container *ngIf="app.canDelete">
          <mat-divider></mat-divider>
          <button mat-menu-item (click)="this.onDeleteEvent.emit({event: $event, app: app})">
            <mat-icon>delete</mat-icon>
            Delete
          </button>
        </ng-container>
      </mat-menu>
<!--      <mat-icon>more_vert</mat-icon>-->
    </div>
  </div>
</div>
