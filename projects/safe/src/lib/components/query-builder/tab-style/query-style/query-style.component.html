<div class="field-container">
  <ng-container>
    <form [formGroup]="form" class="style-form">
      <safe-button
        [isIcon]="true"
        icon="arrow_back"
        (click)="closeEdition.emit()"
      >
      </safe-button>

      <div class="field-form">
        <span class="field-name">{{ 'widgets.grid.style.name' | translate }}</span>
        <mat-form-field appearance="outline">
          <input matInput formControlName="name" type="text" />
        </mat-form-field>
      </div>

      <div class="field-form">
        <span class="field-name">{{ 'widgets.grid.style.criteria' | translate }}</span>
        <safe-tab-filter
          [form]="$any(form?.controls?.filter)"
          [fields]="scalarFields"
        >
        </safe-tab-filter>
      </div>

      <ng-container formGroupName="background">
        <div class="field-form">
          <span class="field-name">{{
            'widgets.grid.style.background.color' | translate
          }}</span>
          <kendo-colorpicker formControlName="color"></kendo-colorpicker>
        </div>
      </ng-container>
      <ng-container formGroupName="text">
        <div class="field-form">
          <span class="field-name">{{
            'widgets.grid.style.text.color' | translate
          }}</span>
          <kendo-colorpicker formControlName="color"></kendo-colorpicker>
        </div>
        <div class="field-form">
          <span class="field-name">{{
            'widgets.grid.style.text.style' | translate
          }}</span>
          <div class="text-style">
            <safe-button
              icon="format_bold"
              (click)="onToggle('text.bold')"
              [category]="form.get('text.bold')?.value ? 'secondary' : 'tertiary'"
              [variant]="form.get('text.bold')?.value && 'primary'"
            ></safe-button>
            <safe-button
              icon="format_italic"
              (click)="onToggle('text.italic')"
              [category]="form.get('text.italic')?.value ? 'secondary' : 'tertiary'"
              [variant]="form.get('text.italic')?.value && 'primary'"
            ></safe-button>
            <safe-button
              icon="format_underline"
              (click)="onToggle('text.underline')"
              [category]="form.get('text.underline')?.value ? 'secondary' : 'tertiary'"
              [variant]="form.get('text.underline')?.value && 'primary'"
            ></safe-button>
          </div>
        </div>
      </ng-container>

      <!-- <div class="field-form">
        <span class="field-name">Apply style to</span>
        <mat-radio-group
          formControlName="styleAppliedTo"
          aria-label="Apply style to"
        >
          <mat-radio-button (click)="onStyleAppliedTo(false)" value="whole-row"
            >whole row</mat-radio-button
          >
          <mat-radio-button
            (click)="onStyleAppliedTo(true)"
            value="selected-columns"
            >selected columns</mat-radio-button
          >
        </mat-radio-group>
      </div> -->

      <div class="field-form">
        <span class="field-name">{{'widgets.grid.style.fields' | translate }}</span>
        <safe-tab-fields
          *ngIf="fields.length > 0"
          [form]="fieldsFormControl"
          [fields]="fields"
          [factory]="factory"
        >
        </safe-tab-fields>
      </div>
    </form>
  </ng-container>
</div>
