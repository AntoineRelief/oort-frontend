<div class="field-container">
  <ng-container>
    <form [formGroup]="form" class="style-form">
      <safe-button
        [isIcon]="true"
        icon="arrow_back"
        (click)="closeEdition.emit()"
      >
      </safe-button>

      <div class="field-form">
        <span class="field-name">{{ 'style.name' | translate }}</span>
        <mat-form-field appearance="outline">
          <input matInput formControlName="title" type="text" />
        </mat-form-field>
      </div>

      <div class="field-form">
        <span class="field-name">{{ 'style.criteria' | translate }}</span>
        <safe-tab-filter
          [form]="$any(form?.controls?.filter)"
          [fields]="scalarFields"
        >
        </safe-tab-filter>
      </div>

      <ng-container formGroupName="background">
        <div class="field-form">
          <span class="field-name">Cell background color</span>
          <kendo-colorpicker
            formControlName="backgroundColor"
          ></kendo-colorpicker>
        </div>
      </ng-container>

      <div class="field-form">
        <span class="field-name">Text color</span>
        <kendo-colorpicker formControlName="textColor"></kendo-colorpicker>
      </div>

      <div class="field-form">
        <span class="field-name">Text style</span>
        <mat-button-toggle-group
          formControlName="textStyle"
          aria-label="Text Style"
        >
          <mat-button-toggle value="default">
            <safe-button [isIcon]="true" icon="format_color_text"></safe-button>
          </mat-button-toggle>
          <mat-button-toggle value="bold">
            <safe-button [isIcon]="true" icon="format_bold"></safe-button>
          </mat-button-toggle>
          <mat-button-toggle value="italic">
            <safe-button [isIcon]="true" icon="format_italic"></safe-button>
          </mat-button-toggle>
          <mat-button-toggle value="underline">
            <safe-button [isIcon]="true" icon="format_underlined"></safe-button>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="field-form">
        <span class="field-name">Apply style to</span>
        <mat-radio-group
          formControlName="styleAppliedTo"
          aria-label="Apply style to"
        >
          <mat-radio-button (click)="onStyleAppliedTo(false)" value="whole-row"
            >whole row</mat-radio-button
          >
          <mat-radio-button
            (click)="onStyleAppliedTo(true)"
            value="selected-columns"
            >selected columns</mat-radio-button
          >
        </mat-radio-group>
      </div>

      <!-- <div
        class="field-form"
        *ngIf="
          styles[styleIndex].styleAppliedTo === 'selected-columns' ||
          selectedColumns
        "
      >
        <span class="field-name"></span>
        <safe-tab-fields
          *ngIf="availableFields.length > 0"
          [form]="$any(form?.controls?.fields)"
          [fields]="availableFields"
          [factory]="factory"
        >
        </safe-tab-fields>
      </div> -->
    </form>
  </ng-container>
</div>
