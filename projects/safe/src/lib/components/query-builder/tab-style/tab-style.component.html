<div class="info-text">{{'widgets.query.style.description' | translate}}</div>
<form [formGroup]="form">
    <div class="add-button">
        <safe-button icon="add" (click)="onAddStyle()" 
        [disabled]="isEdited" category="tertiary">{{'widgets.query.style.new' | translate}}</safe-button>
    </div>

    <safe-rule-list *ngIf="!fieldForm" [stylesList]="stylesList"
    (editRule)="onEditStyle($event)" (deleteRule)="onDeleteStyle($event)"></safe-rule-list>
    
    <safe-rule *ngIf="fieldForm" [stylesList]="stylesList" [styleForm]="fieldForm" [styleIndex]="styleIndex" 
    [scalarFields]="scalarFields" [settings]="settings" [availableFields]="availableFields" [factory]="factory"
     (closeRule)="onCloseField()" (changeApplyTo)="onApplyTo($event)"></safe-rule>

</form>