<mat-toolbar color="primary">
  <button mat-icon-button (click)="nav.toggle()" *ngIf="!largeDevice">
    <mat-icon>menu</mat-icon>
  </button>
  <ng-container *ngIf="!applications || applications.length === 0">
    <h1>{{title}}</h1>
  </ng-container>
  <ng-container *ngIf="applications && applications.length > 0">
    <button mat-button [matMenuTriggerFor]="applicationMenu">
      {{title}}
      <mat-icon>arrow_drop_down</mat-icon>
    </button>
    <mat-menu #applicationMenu="matMenu">
      <button mat-menu-item *ngFor="let application of applications" (click)="onOpenApplication(application)">{{application.name}}</button>
    </mat-menu>
  </ng-container>
  <div class="account-container">
    <div class="account-property">{{account.name}}</div>
    <div class="account-property">{{account.userName}}</div>
  </div>
  <button mat-icon-button [matMenuTriggerFor]="accountMenu">
    <mat-icon>account_circle</mat-icon>
  </button>
  <mat-menu #accountMenu="matMenu">
    <button mat-menu-item (click)="logout()">Logout</button>
  </mat-menu>
</mat-toolbar>

<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #nav [mode]="largeDevice ? 'side' : 'over'" [opened]="largeDevice">
    <mat-nav-list>
      <ng-container *ngFor="let group of filteredNavGroups; let i = index">
        <div mat-subheader>{{ group.name }}</div>
        <ng-container *ngFor="let item of group.navItems">
          <a mat-list-item [routerLink]="item.path" routerLinkActive="active-link"
            (click)="largeDevice ? null : nav.toggle()" [class]="item.class ? item.class : ''">
            <mat-icon mat-list-icon class="nav-icon">
              {{ item.icon }}
            </mat-icon>
            <div mat-line>{{ item.name }}</div>
          </a>
        </ng-container>
        <mat-divider *ngIf="i < filteredNavGroups.length - 1"></mat-divider>
      </ng-container>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="sidenav-content">
    <router-outlet></router-outlet>
  </mat-sidenav-content>

</mat-sidenav-container>